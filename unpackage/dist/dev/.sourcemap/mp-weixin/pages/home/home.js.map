{"version":3,"file":"home.js","sources":["pages/home/home.vue","D:/HTML5/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaG9tZS9ob21lLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <view class=\"header\" :style=\"{backgroundColor: primaryColor}\">\n      <text class=\"title\">å°ç»¿ä¹¦ - ä»Šæ—¥ç²¾é€‰</text>\n    </view>\n\n    <scroll-view scroll-y class=\"content-list\">\n      <view class=\"date-header\">\n        <text class=\"date-text\">ğŸ“† {{ todayDate }} å‘å¸ƒçš„å¸–å­</text>\n      </view>\n      \n      <view v-for=\"post in posts\" :key=\"post.id\" class=\"post-card\" @click=\"goToDetail(post.id)\">\n        <view class=\"post-info\">\n          <view class=\"post-header\">\n            <text class=\"post-title\">{{ post.title }}</text>\n            <view class=\"post-rating\" :style=\"{backgroundColor: accentColor}\">\n              <text class=\"rating-score\">â˜… {{ post.rating.toFixed(1) }}</text>\n            </view>\n          </view>\n          \n          <view v-if=\"post.images && post.images.length > 0\" class=\"image-preview\">\n            <image \n              v-for=\"(img, index) in post.images.slice(0, 3)\" \n              :key=\"index\" \n              :src=\"img\" \n              mode=\"aspectFill\" \n              class=\"preview-img\"\n            />\n          </view>\n\n          <view class=\"post-tags\">\n            <text v-for=\"(tag, index) in post.tags\" :key=\"index\" class=\"tag-item\" :style=\"{borderColor: primaryColor, color: primaryColor}\">\n              #{{ tag }}\n            </text>\n          </view>\n        </view>\n      </view>\n      <view v-if=\"posts.length === 0\" class=\"no-content\">\n        <text>ä»Šå¤©è¿˜æ²¡æœ‰æ–°å†…å®¹å‘å¸ƒå“¦~</text>\n      </view>\n    </scroll-view>\n\n    <view class=\"tab-bar\">\n      <view \n        v-for=\"tab in tabs\" \n        :key=\"tab.name\" \n        class=\"tab-item\" \n        @click=\"switchTab(tab.path)\"\n      >\n        <text class=\"tab-icon\" :class=\"{'active': tab.path === currentPage}\">{{ tab.icon }}</text>\n        <text \n          class=\"tab-text\" \n          :style=\"{color: tab.path === currentPage ? primaryColor : '#888'}\"\n        >\n          {{ tab.name }}\n        </text>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      primaryColor: '#00CC99', // ä¸»é¢˜ç»¿è‰²\n      accentColor: '#FFD700',  // ä¸»é¢˜é»„è‰²\n      currentPage: 'home', // å½“å‰é¡µé¢æ ‡è¯†ï¼Œç”¨äºåº•éƒ¨å¯¼èˆªé«˜äº®\n      todayDate: new Date().toLocaleDateString(), // æ˜¾ç¤ºå½“å‰æ—¥æœŸ\n      // æ¨¡æ‹Ÿå¸–å­æ•°æ®\n      posts: [\n        { id: 1, title: 'æ˜¥å¤©ç§çš„æ¤ç‰©å‘èŠ½äº†', content: '...', rating: 4.8, tags: ['æ¤ç‰©', 'å›­è‰º', 'ç”Ÿæ´»'], \n          images: ['/static/img1.jpg', '/static/img2.jpg', '/static/img3.jpg', '/static/img4.jpg'], type: 'image' },\n        { id: 2, title: 'ä»Šæ—¥ä»½ç¾é£Ÿåˆ†äº«', content: '...', rating: 4.5, tags: ['ç¾é£Ÿ', 'çƒ¹é¥ª'], images: ['/static/food1.jpg'], type: 'image' },\n        { id: 3, title: 'å…³äºuni-appçš„ä¸€äº›å¿ƒå¾—', content: '...', rating: 3.9, tags: ['æŠ€æœ¯', 'ç¼–ç¨‹'], images: [], type: 'text' },\n        { id: 4, title: 'æˆ·å¤–å¾’æ­¥Vlog', content: '...', rating: 4.2, tags: ['æˆ·å¤–', 'Vlog'], images: ['/static/video_cover.jpg'], type: 'video' },\n      ],\r\n\t  tabs:[],\n    };\n  },\n  onLoad() {\n    this.fetchDailyPosts();\n  },\n  methods: {\n    // æ¨¡æ‹Ÿè·å–å½“å¤©å‘å¸ƒçš„å¸–å­åˆ—è¡¨\n    fetchDailyPosts() {\n      // ** æ¨¡æ‹Ÿæ¥å£è°ƒç”¨ **\n      // æ¨¡æ‹Ÿè°ƒç”¨ï¼š/api/posts/daily\n      // æ¥å£å‚æ•°ï¼š{ date: this.todayDate }\n      /*\n      uni.request({\n        url: '/api/posts/daily', \n        method: 'GET',\n        data: { date: this.todayDate },\n        success: (res) => {\n          if (res.data.code === 0) {\n            this.posts = res.data.data;\n          }\n        }\n      });\n      */\n    },\n    \n    // è·³è½¬åˆ°å¸–å­è¯¦æƒ…é¡µ\n    goToDetail(postId) {\n      uni.navigateTo({\n        url: `postDetail?id=${postId}`\n      });\n    },\n    \n    // åº•éƒ¨å¯¼èˆªåˆ‡æ¢\n    switchTab(path) {\n      if (path === this.currentPage) return;\n      \n      // è¿™é‡Œçš„è·³è½¬é€»è¾‘éœ€è¦æ ¹æ®æ‚¨çš„å®é™…è·¯ç”±è®¾ç½®è¿›è¡Œè°ƒæ•´ã€‚\n      // å¦‚æœè¿™äº›æ˜¯Tabé¡µé¢ï¼Œéœ€è¦ä½¿ç”¨ uni.switchTabã€‚å¦‚æœæ˜¯éTabé¡µé¢ï¼Œä½¿ç”¨ uni.navigateToã€‚\n      // å‡è®¾ home æ˜¯ TabBar é¡µé¢ï¼Œå…¶ä»–æ˜¯æ™®é€šé¡µé¢è·³è½¬ã€‚\n      if (path === 'home') {\n        uni.switchTab({ url: `/${path}` });\n      } else {\n        uni.navigateTo({ url: path });\n      }\n      this.currentPage = path;\n    }\n  }\n}\n</script>\n\n<style scoped>\n.container {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: #f7fff7; /* è½»å¾®çš„ä¸»é¢˜è‰²èƒŒæ™¯ */\n}\n\n/* --- é¡¶éƒ¨æ ‡é¢˜ --- */\n.header {\n  height: 90rpx;\n  line-height: 90rpx;\n  text-align: center;\n  color: #ffffff;\n  font-size: 38rpx;\n  font-weight: bold;\n  padding-top: var(--status-bar-height); /* é€‚é…åˆ˜æµ·å± */\n  z-index: 10;\n}\n\n/* --- å¸–å­åˆ—è¡¨åŒº --- */\n.content-list {\n  flex: 1;\n  padding: 20rpx 0;\n  box-sizing: border-box;\n}\n\n.date-header {\n  padding: 0 30rpx 20rpx;\n}\n\n.date-text {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #333;\n}\n\n/* å¸–å­å¡ç‰‡æ ·å¼ */\n.post-card {\n  margin: 0 30rpx 30rpx;\n  padding: 20rpx;\n  background-color: #ffffff;\n  border-radius: 15rpx;\n  box-shadow: 0 4rpx 10rpx rgba(0, 0, 0, 0.05);\n  display: flex;\n}\n\n.post-info {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.post-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10rpx;\n}\n\n.post-title {\n  font-size: 36rpx;\n  font-weight: bold;\n  color: #333;\n  flex: 1;\n  margin-right: 20rpx;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.post-rating {\n  padding: 5rpx 15rpx;\n  border-radius: 20rpx;\n}\n\n.rating-score {\n  font-size: 28rpx;\n  font-weight: bold;\n  color: #333; /* é…åˆé»„è‰²èƒŒæ™¯ï¼Œé»‘è‰²æ–‡å­—æ›´æ¸…æ™° */\n}\n\n/* å›¾ç‰‡é¢„è§ˆ */\n.image-preview {\n  display: flex;\n  overflow: hidden;\n  margin: 15rpx 0;\n}\n\n.preview-img {\n  width: calc(33.33% - 10rpx); /* ä¸‰å¼ å›¾ç‰‡ç­‰å®½ï¼Œç•™é—´è· */\n  height: 180rpx;\n  border-radius: 10rpx;\n  margin-right: 15rpx;\n}\n.preview-img:last-child {\n  margin-right: 0;\n}\n\n\n/* æ ‡ç­¾æ ·å¼ */\n.post-tags {\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 10rpx;\n}\n\n.tag-item {\n  font-size: 24rpx;\n  padding: 5rpx 15rpx;\n  border: 1px solid;\n  border-radius: 20rpx;\n  margin-right: 15rpx;\n  margin-bottom: 10rpx;\n}\n\n.no-content {\n  text-align: center;\n  padding: 50rpx;\n  color: #999;\n}\n</style>","import MiniProgramPage from 'C:/Users/HP/Desktop/è½¯ä»¶å·¥ç¨‹/demo1/DemonTest/pages/home/home.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AA8DA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,cAAc;AAAA;AAAA,MACd,aAAa;AAAA;AAAA,MACb,aAAa;AAAA;AAAA,MACb,YAAW,oBAAI,KAAM,GAAC,mBAAoB;AAAA;AAAA;AAAA,MAE1C,OAAO;AAAA,QACL;AAAA,UAAE,IAAI;AAAA,UAAG,OAAO;AAAA,UAAa,SAAS;AAAA,UAAO,QAAQ;AAAA,UAAK,MAAM,CAAC,MAAM,MAAM,IAAI;AAAA,UAC/E,QAAQ,CAAC,oBAAoB,oBAAoB,oBAAoB,kBAAkB;AAAA,UAAG,MAAM;AAAA,QAAS;AAAA,QAC3G,EAAE,IAAI,GAAG,OAAO,WAAW,SAAS,OAAO,QAAQ,KAAK,MAAM,CAAC,MAAM,IAAI,GAAG,QAAQ,CAAC,mBAAmB,GAAG,MAAM,QAAS;AAAA,QAC1H,EAAE,IAAI,GAAG,OAAO,kBAAkB,SAAS,OAAO,QAAQ,KAAK,MAAM,CAAC,MAAM,IAAI,GAAG,QAAQ,CAAE,GAAE,MAAM,OAAQ;AAAA,QAC7G,EAAE,IAAI,GAAG,OAAO,YAAY,SAAS,OAAO,QAAQ,KAAK,MAAM,CAAC,MAAM,MAAM,GAAG,QAAQ,CAAC,yBAAyB,GAAG,MAAM,QAAS;AAAA,MACpI;AAAA,MACJ,MAAK,CAAE;AAAA;EAEP;AAAA,EACD,SAAS;AACP,SAAK,gBAAe;AAAA,EACrB;AAAA,EACD,SAAS;AAAA;AAAA,IAEP,kBAAkB;AAAA,IAgBjB;AAAA;AAAA,IAGD,WAAW,QAAQ;AACjBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,iBAAiB,MAAM;AAAA,MAC9B,CAAC;AAAA,IACF;AAAA;AAAA,IAGD,UAAU,MAAM;AACd,UAAI,SAAS,KAAK;AAAa;AAK/B,UAAI,SAAS,QAAQ;AACnBA,sBAAG,MAAC,UAAU,EAAE,KAAK,IAAI,IAAI,GAAC,CAAG;AAAA,aAC5B;AACLA,sBAAAA,MAAI,WAAW,EAAE,KAAK,KAAM,CAAA;AAAA,MAC9B;AACA,WAAK,cAAc;AAAA,IACrB;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5HA,GAAG,WAAW,eAAe;"}