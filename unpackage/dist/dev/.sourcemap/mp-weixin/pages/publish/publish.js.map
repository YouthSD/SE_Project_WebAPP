{"version":3,"file":"publish.js","sources":["pages/publish/publish.vue","D:/HTML5/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcHVibGlzaC9wdWJsaXNoLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"container\">\n    \n    <view class=\"header\">\n      <text class=\"cancel-btn\" @click=\"handleCancel\">ÂèñÊ∂à</text>\n      <text class=\"page-title\">ÂèëÂ∏ÉÊñ∞ÂÜÖÂÆπ</text>\n      <button \n        class=\"publish-btn\" \n        :style=\"{backgroundColor: isReadyToPublish ? primaryColor : '#ccc'}\"\n        :disabled=\"!isReadyToPublish\"\n        @click=\"handlePublish\"\n      >\n        ÂèëÂ∏É\n      </button>\n    </view>\n    \n    <scroll-view scroll-y class=\"content-scroll\">\n      \n      <input \n        class=\"title-input\" \n        placeholder=\"ËØ∑ËæìÂÖ•Ê†áÈ¢ò (ÂèØÈÄâ)\" \n        v-model=\"postTitle\"\n        maxlength=\"50\"\n      />\n      \n      <textarea \n        class=\"text-textarea\" \n        placeholder=\"ÂÜô‰∏ã‰Ω†ÁöÑÊÉ≥Ê≥ï„ÄÅÊÑüÂèóÊàñÊïÖ‰∫ã...\" \n        v-model=\"postContent\"\n        maxlength=\"2000\"\n      />\n      \n      <view class=\"media-preview-area\">\n        \n        <view v-if=\"postType === 1\" class=\"image-preview\">\n          <view v-for=\"(url, index) in imageList\" :key=\"index\" class=\"image-item\">\n            <image :src=\"url\" mode=\"aspectFill\" class=\"uploaded-img\" @click=\"previewImage(index)\" />\n            <text class=\"delete-icon\" @click=\"deleteMedia(index, 'image')\">√ó</text>\n          </view>\n          \n          <view v-if=\"imageList.length < 9\" class=\"add-media-btn\" @click=\"chooseImage\" :style=\"{borderColor: primaryColor}\">\n            <text class=\"add-icon\">+</text>\n            <text class=\"add-text\">Áõ∏ÂÜå</text>\n          </view>\n        </view>\n        \n        <view v-else-if=\"postType === 2\" class=\"video-preview\">\n          <video :src=\"videoPath\" controls class=\"uploaded-video\"></video>\n          <text class=\"delete-icon\" @click=\"deleteMedia(0, 'video')\">√ó</text>\n          \n          <view v-if=\"uploading && uploadProgress < 100\" class=\"progress-bar-container\">\n            <view class=\"progress-bar\" :style=\"{width: uploadProgress + '%', backgroundColor: primaryColor}\"></view>\n            <text class=\"progress-text\">‰∏ä‰º†‰∏≠: {{ uploadProgress.toFixed(0) }}%</text>\n          </view>\n        </view>\n        \n      </view>\n      \n      <view class=\"tag-input-area\">\n        <input class=\"tag-input\" placeholder=\"#Ê∑ªÂä†Ê†áÁ≠æ (Â¶ÇÔºöÁîüÊ¥ª„ÄÅÊäÄÊúØ)\" v-model=\"currentTag\" @confirm=\"addTag\"/>\n        <view class=\"tag-list\">\n          <text v-for=\"(tag, index) in tags\" :key=\"index\" class=\"tag-item\" :style=\"{borderColor: primaryColor, color: primaryColor}\">\n            #{{ tag }} <text class=\"tag-delete\" @click=\"removeTag(index)\">√ó</text>\n          </text>\n        </view>\n      </view>\n      \n    </scroll-view>\n    \n    <view class=\"media-action-bar\">\n      <view class=\"action-btn\" :class=\"{'disabled': postType === 2}\" @click=\"chooseImage\">\n        <text class=\"icon\">üñºÔ∏è</text>\n        <text class=\"text\">Áõ∏ÂÜå</text>\n      </view>\n      <view class=\"action-btn\" :class=\"{'disabled': postType === 1}\" @click=\"chooseVideo\">\n        <text class=\"icon\">üé•</text>\n        <text class=\"text\">ËßÜÈ¢ë</text>\n      </view>\n    </view>\n    \n    <view class=\"tab-bar\">\n      <view v-for=\"tab in tabs\" :key=\"tab.name\" class=\"tab-item\" @click=\"switchTab(tab.path)\">\n        <text class=\"tab-icon\" :class=\"{'active': tab.path === 'publish'}\">{{ tab.icon }}</text>\n        <text \n          class=\"tab-text\" \n          :style=\"{color: tab.path === 'publish' ? primaryColor : '#888'}\"\n        >\n          {{ tab.name }}\n        </text>\n      </view>\n    </view>\n    \n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      primaryColor: '#00CC99', \n      accentColor: '#FFD700',\r\n\t  tabs: [],\n      \n      postTitle: '',\n      postContent: '',\n      tags: [],\n      currentTag: '',\n      \n      postType: 0, // 0=Á∫ØÊñá, 1=ÂõæÊñá, 2=ËßÜÈ¢ë\n      \n      // ÂõæÁâáÁõ∏ÂÖ≥\n      imageList: [], // Êú¨Âú∞ÂõæÁâáË∑ØÂæÑÂàóË°®\n      \n      // ËßÜÈ¢ëÁõ∏ÂÖ≥\n      videoPath: '', // Êú¨Âú∞ËßÜÈ¢ëË∑ØÂæÑ\n      uploading: false,\n      uploadProgress: 0,\n      uploadTask: null, // uni.uploadFile ‰ªªÂä°ÂØπË±°\n    };\n  },\n  computed: {\n    // Âà§Êñ≠ÊòØÂê¶ÂèØ‰ª•ÁÇπÂáªÂèëÂ∏ÉÊåâÈíÆ\n    isReadyToPublish() {\n      // Ëá≥Â∞ëÊúâÊñáÊú¨ÊàñÂ™í‰ΩìÊñá‰ª∂\n      return this.postContent.trim().length > 0 || this.imageList.length > 0 || this.videoPath;\n    }\n  },\n  methods: {\n    // --- È°∂ÈÉ®ÂØºËà™Ê†èÊìç‰Ωú ---\n    handleCancel() {\n      if (this.uploading && this.uploadTask) {\n        this.uploadTask.abort();\n      }\n      uni.showModal({\n        title: 'ÊèêÁ§∫',\n        content: 'Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫ÊâÄÊúâÂÜÖÂÆπÂπ∂ËøîÂõûÂêóÔºü',\n        success: (res) => {\n          if (res.confirm) {\n            this.resetForm();\n            // ËøîÂõûÈ¶ñÈ°µ\n            this.switchTab('home'); \n          }\n        }\n      });\n    },\n    \n    resetForm() {\n      this.postTitle = '';\n      this.postContent = '';\n      this.tags = [];\n      this.currentTag = '';\n      this.postType = 0;\n      this.imageList = [];\n      this.videoPath = '';\n      this.uploading = false;\n      this.uploadProgress = 0;\n      this.uploadTask = null;\n    },\n    \n    // --- Ê†áÁ≠æÂ§ÑÁêÜ ---\n    addTag() {\n      const tag = this.currentTag.trim();\n      if (tag && !this.tags.includes(tag)) {\n        this.tags.push(tag);\n      }\n      this.currentTag = '';\n    },\n    removeTag(index) {\n      this.tags.splice(index, 1);\n    },\n    \n    // --- ÂõæÁâá/ËßÜÈ¢ëÈÄâÊã© ---\n    chooseImage() {\n      if (this.postType === 2) {\n        uni.showToast({ title: 'Â∑≤ÈÄâÊã©ËßÜÈ¢ëÔºåËØ∑ÂÖàÂà†Èô§ËßÜÈ¢ë', icon: 'none' });\n        return;\n      }\n      \n      let count = 9 - this.imageList.length;\n      if (count <= 0) {\n        uni.showToast({ title: 'ÊúÄÂ§öÂè™ËÉΩ‰∏ä‰º†9Âº†ÂõæÁâá', icon: 'none' });\n        return;\n      }\n      \n      uni.chooseImage({\n        count: count,\n        sizeType: ['original', 'compressed'],\n        sourceType: ['album', 'camera'],\n        success: (res) => {\n          this.postType = 1;\n          this.imageList = [...this.imageList, ...res.tempFilePaths];\n          uni.showToast({ title: 'ÂõæÁâáÂ∑≤Ê∑ªÂä†', icon: 'none' });\n        }\n      });\n    },\n    \n    chooseVideo() {\n      if (this.postType === 1) {\n        uni.showToast({ title: 'Â∑≤ÈÄâÊã©ÂõæÁâáÔºåËØ∑ÂÖàÂà†Èô§ÂõæÁâá', icon: 'none' });\n        return;\n      }\n      if (this.videoPath) {\n        uni.showToast({ title: 'Âè™ËÉΩ‰∏ä‰º†‰∏Ä‰∏™ËßÜÈ¢ëÔºåËØ∑ÂÖàÂà†Èô§', icon: 'none' });\n        return;\n      }\n      \n      uni.chooseVideo({\n        sourceType: ['album', 'camera'],\n        maxDuration: 60,\n        camera: 'back',\n        success: (res) => {\n          this.postType = 2;\n          this.videoPath = res.tempFilePath;\n          this.uploading = true;\n          this.uploadProgress = 0;\n          this.uploadMedia(res.tempFilePath, 'video'); // Ëá™Âä®ÂºÄÂßãÊ®°Êãü‰∏ä‰º†\n        }\n      });\n    },\n    \n    deleteMedia(index, type) {\n      if (type === 'image') {\n        this.imageList.splice(index, 1);\n        if (this.imageList.length === 0 && this.postContent.trim().length === 0) {\n          this.postType = 0;\n        }\n      } else if (type === 'video') {\n        if (this.uploading && this.uploadTask) {\n          this.uploadTask.abort();\n        }\n        this.videoPath = '';\n        this.uploading = false;\n        this.uploadProgress = 0;\n        if (this.postContent.trim().length === 0) {\n          this.postType = 0;\n        }\n      }\n    },\n    \n    previewImage(index) {\n      uni.previewImage({\n        current: this.imageList[index],\n        urls: this.imageList\n      });\n    },\n    \n    // --- Â™í‰ΩìÊñá‰ª∂‰∏ä‰º†ÔºàÊ®°ÊãüÔºâ ---\n    uploadMedia(filePath, fileType) {\n      // ** Ê®°ÊãüÊé•Âè£Ë∞ÉÁî®ÔºöÊñá‰ª∂‰∏ä‰º† **\n      // ÂÅáËÆæÔºö/api/uploadmedia Êé•Âè£Êé•Êî∂Êñá‰ª∂ÔºåÂπ∂ËøîÂõûÊñá‰ª∂ media_id\n      \n      // ** ‰ªÖÊ®°ÊãüËøõÂ∫¶Êù°ÂíåÊàêÂäüÁä∂ÊÄÅÔºå‰∏çÂÆûÈôÖ‰∏ä‰º† **\n      this.uploading = true;\n      this.uploadProgress = 0;\n      \n      let interval = setInterval(() => {\n        if (this.uploadProgress < 95) {\n          this.uploadProgress += Math.random() * 5; // Ê®°ÊãüËøõÂ∫¶Â¢ûÈïø\n        } else {\n          clearInterval(interval);\n          this.uploadProgress = 100;\n          this.uploading = false;\n          uni.showToast({ title: `${fileType === 'video' ? 'ËßÜÈ¢ë' : 'Êñá‰ª∂'}‰∏ä‰º†ÊàêÂäü`, icon: 'success' });\n          // ÂÅáËÆæËøôÈáåËé∑Âæó‰∫Ü media_idÔºåÂπ∂‰øùÂ≠òÂú®‰∏Ä‰∏™Êï∞ÁªÑ‰∏≠\n          // this.mediaIds.push('mock_media_id_123');\n        }\n      }, 300);\n\n      /*\n      this.uploadTask = uni.uploadFile({\n        url: 'YOUR_UPLOAD_API_URL', // ÊõøÊç¢‰∏∫ÊÇ®ÁöÑÂÆûÈôÖ‰∏ä‰º†Êé•Âè£\n        filePath: filePath,\n        name: 'file', // ÂêéÂè∞Êé•Êî∂Êñá‰ª∂ÁöÑÂ≠óÊÆµÂêç\n        formData: {\n          'type': fileType\n        },\n        success: (res) => {\n          this.uploading = false;\n          const data = JSON.parse(res.data);\n          if (data.code === 0) {\n            // ÊàêÂäüÔºöÂ∞ÜËé∑ÂèñÂà∞ÁöÑ media_id Ê∑ªÂä†Âà∞ÂàóË°®\n            // this.mediaIds.push(data.media_id); \n          } else {\n            uni.showToast({ title: '‰∏ä‰º†Â§±Ë¥•', icon: 'error' });\n          }\n        },\n        fail: () => {\n          this.uploading = false;\n          uni.showToast({ title: 'ÁΩëÁªúÈîôËØØÔºå‰∏ä‰º†Â§±Ë¥•', icon: 'error' });\n        }\n      });\n\n      this.uploadTask.onProgressUpdate((res) => {\n        this.uploadProgress = res.progress;\n      });\n      */\n    },\n    \n    // --- ÂèëÂ∏ÉÂ§ÑÁêÜ ---\n    handlePublish() {\n      if (!this.isReadyToPublish) {\n        uni.showToast({ title: 'ËØ∑ËæìÂÖ•ÂÜÖÂÆπÊàñÊ∑ªÂä†Â™í‰ΩìÊñá‰ª∂', icon: 'none' });\n        return;\n      }\n      \n      if (this.postType === 2 && this.uploading) {\n         uni.showToast({ title: 'ËßÜÈ¢ëÊ≠£Âú®‰∏ä‰º†‰∏≠ÔºåËØ∑Á®çÂÄô', icon: 'none' });\n         return;\n      }\n      \n      // 1. Êï¥ÁêÜ media_ids (Âú®ÂÆûÈôÖÈ°πÁõÆ‰∏≠ÔºåÂõæÁâáÈúÄË¶ÅÂÖà‰∏ä‰º†ÔºåËøôÈáå‰ªÖ‰∏∫ÂâçÁ´ØÊ®°Êãü)\n      let mediaIds = [];\n      if (this.postType === 1) {\n        // ÂÅáËÆæÊâÄÊúâÂõæÁâáÈÉΩÂ∑≤‰∏ä‰º†Âπ∂Ëé∑Âæó id\n        mediaIds = this.imageList.map((_, i) => `img_id_${i}`);\n      } else if (this.postType === 2) {\n        // ÂÅáËÆæËßÜÈ¢ëÂ∑≤‰∏ä‰º†Âπ∂Ëé∑Âæó id\n        mediaIds = ['video_id_001']; \n      }\n      \n      // 2. ÊûÑÈÄ†ÂèëÂ∏ÉÊï∞ÊçÆ\n      const postData = {\n        post_type: this.postType,\n        post_title: this.postTitle.trim(),\n        post_content: this.postContent.trim(),\n        media_ids: mediaIds,\n        tags: this.tags,\n        // ... ÂÖ∂‰ªñ‰ø°ÊÅØÔºåÂ¶ÇÁî®Êà∑ID\n      };\n\n      // ** Ê®°ÊãüÊé•Âè£Ë∞ÉÁî®ÔºöÂèëÂ∏ÉÂ∏ñÂ≠ê **\n      // Ê®°ÊãüË∞ÉÁî®Ôºö/api/post/create\n      /*\n      uni.request({\n        url: '/api/post/create', // ÊõøÊç¢‰∏∫ÊÇ®ÁöÑÂÆûÈôÖÊé•Âè£Âú∞ÂùÄ\n        method: 'POST',\n        data: postData,\n        success: (res) => {\n          if (res.data.code === 0) {\n            uni.showToast({ title: 'ÂèëÂ∏ÉÊàêÂäü', icon: 'success' });\n            this.resetForm();\n            uni.redirectTo({ url: 'home' }); // Ë∑≥ËΩ¨Âà∞Á®ãÂ∫èÈ¶ñÈ°µ\n          } else {\n            uni.showModal({\n              title: 'ÂèëÂ∏ÉÂ§±Ë¥•',\n              content: res.data.message || 'ÂèëÂ∏ÉÂÜÖÂÆπÂ§±Ë¥•',\n              showCancel: false\n            });\n          }\n        },\n        fail: () => {\n          uni.showModal({\n            title: 'ÂèëÂ∏ÉÂ§±Ë¥•',\n            content: 'ÁΩëÁªúÈîôËØØÔºåËØ∑Á®çÂêéÂÜçËØï',\n            showCancel: false\n          });\n        }\n      });\n      */\n      \n      // ** ‰∏¥Êó∂ÊàêÂäüË∑≥ËΩ¨ **\n      uni.showToast({ title: 'ÂèëÂ∏ÉÊàêÂäü', icon: 'success' });\n      this.resetForm();\n      this.switchTab('home');\n    },\n    \n    // --- Â∫ïÈÉ®ÂØºËà™ÂàáÊç¢ (‰∏é home.vue ‰øùÊåÅ‰∏ÄËá¥) ---\n    switchTab(path) {\n      // ÂÅáËÆæ home ÊòØ TabBar È°µÈù¢ÔºåÂÖ∂‰ªñÊòØÊôÆÈÄöÈ°µÈù¢Ë∑≥ËΩ¨„ÄÇ\n      // Ê≥®ÊÑèÔºöÂú® uni-app ‰∏≠ÔºåÂ¶ÇÊûú publish ‰πüÊòØ TabBar È°µÈù¢ÔºåË∑≥ËΩ¨Êó∂ÈúÄË¶ÅÁî® uni.switchTab„ÄÇ\n      // ‰∏∫‰∫ÜÂ∏ÉÂ±ÄÁªü‰∏ÄÊÄßÔºåÊàë‰ª¨ÂÅáËÆæÂÆÉ‰ª¨ÈÉΩÂ∑≤ÈÖçÁΩÆ‰∏∫ TabBar È°µÈù¢„ÄÇ\n      uni.switchTab({ url: path });\n    }\n  }\n}\n</script>\n\n<style scoped>\n.container {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: #f7fff7;\n}\n\n/* --- È°∂ÈÉ®ÂØºËà™Ê†è --- */\n.header {\n  height: 90rpx;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 30rpx;\n  background-color: #ffffff;\n  border-bottom: 1rpx solid #eee;\n  padding-top: var(--status-bar-height); /* ÈÄÇÈÖçÂàòÊµ∑Â±è */\n}\n\n.cancel-btn {\n  font-size: 32rpx;\n  color: #888;\n}\n\n.page-title {\n  font-size: 36rpx;\n  font-weight: bold;\n  color: #333;\n}\n\n.publish-btn {\n  font-size: 28rpx;\n  color: #ffffff;\n  padding: 0 25rpx;\n  height: 60rpx;\n  line-height: 60rpx;\n  border-radius: 30rpx;\n  margin: 0;\n  white-space: nowrap;\n}\n\n.publish-btn[disabled] {\n  background-color: #ccc !important;\n}\n\n/* --- ÂÜÖÂÆπÊªöÂä®Âå∫ --- */\n.content-scroll {\n  flex: 1;\n  padding: 30rpx;\n  box-sizing: border-box;\n}\n\n.title-input {\n  width: 100%;\n  height: 80rpx;\n  font-size: 36rpx;\n  font-weight: bold;\n  border-bottom: 1rpx solid #eee;\n  margin-bottom: 20rpx;\n  padding-bottom: 10rpx;\n}\n\n.text-textarea {\n  width: 100%;\n  height: 300rpx;\n  font-size: 32rpx;\n  padding: 10rpx 0;\n  margin-bottom: 30rpx;\n}\n\n/* --- Â™í‰ΩìÈ¢ÑËßàÂå∫ --- */\n.media-preview-area {\n  margin-bottom: 30rpx;\n}\n\n.image-preview {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20rpx;\n}\n\n.image-item, .add-media-btn {\n  width: calc((100% - 40rpx) / 3); /* ÊØèË°å3‰∏™Ôºå‰∏≠Èó¥2‰∏™20rpxÁöÑÈó¥Èöô */\n  height: 200rpx;\n  position: relative;\n  border-radius: 10rpx;\n  overflow: hidden;\n}\n\n.uploaded-img, .uploaded-video {\n  width: 100%;\n  height: 100%;\n  display: block;\n}\n\n.video-preview {\n  width: 100%;\n  height: 400rpx;\n  position: relative;\n  border-radius: 10rpx;\n  overflow: hidden;\n  margin-bottom: 10rpx;\n}\n\n.delete-icon {\n  position: absolute;\n  top: 10rpx;\n  right: 10rpx;\n  background-color: rgba(0, 0, 0, 0.5);\n  color: #fff;\n  width: 40rpx;\n  height: 40rpx;\n  line-height: 36rpx;\n  text-align: center;\n  border-radius: 50%;\n  font-size: 30rpx;\n  z-index: 10;\n}\n\n.add-media-btn {\n  border: 2rpx dashed;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #999;\n}\n\n.add-icon {\n  font-size: 60rpx;\n  line-height: 1;\n}\n.add-text {\n  font-size: 24rpx;\n  margin-top: 5rpx;\n}\n\n/* ËøõÂ∫¶Êù° */\n.progress-bar-container {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 40rpx;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n}\n\n.progress-bar {\n  height: 100%;\n  transition: width 0.3s;\n  position: absolute;\n  opacity: 0.8;\n}\n\n.progress-text {\n  font-size: 24rpx;\n  color: #fff;\n  z-index: 5;\n  margin-left: 10rpx;\n}\n\n/* --- Ê†áÁ≠æËæìÂÖ•Âå∫ --- */\n.tag-input-area {\n  padding: 20rpx 0;\n}\n\n.tag-input {\n  width: 100%;\n  height: 70rpx;\n  font-size: 30rpx;\n  border-bottom: 1rpx solid #eee;\n  margin-bottom: 20rpx;\n}\n\n.tag-list {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.tag-item {\n  font-size: 26rpx;\n  padding: 8rpx 15rpx;\n  border: 1px solid;\n  border-radius: 20rpx;\n  margin-right: 15rpx;\n  margin-bottom: 10rpx;\n  display: flex;\n  align-items: center;\n}\n\n.tag-delete {\n  font-size: 24rpx;\n  margin-left: 10rpx;\n  font-weight: bold;\n}\n\n\n/* --- Â∫ïÈÉ®ÂäüËÉΩÊ†è (Â™í‰ΩìÈÄâÊã©) --- */\n.media-action-bar {\n  display: flex;\n  border-top: 1rpx solid #eee;\n  background-color: #fff;\n  padding: 10rpx 0;\n}\n\n.action-btn {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 10rpx 0;\n}\n\n.action-btn.disabled {\n  opacity: 0.5;\n}\n\n.action-btn .icon {\n  font-size: 40rpx;\n  margin-right: 10rpx;\n}\n\n.action-btn .text {\n  font-size: 30rpx;\n  color: #333;\n}\n</style>","import MiniProgramPage from 'C:/Users/HP/Desktop/ËΩØ‰ª∂Â∑•Á®ã/demo1/DemonTest/pages/publish/publish.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}