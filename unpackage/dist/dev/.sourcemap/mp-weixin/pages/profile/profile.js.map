{"version":3,"file":"profile.js","sources":["pages/profile/profile.vue","D:/HTML5/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcHJvZmlsZS9wcm9maWxlLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"container\">\n    \n    <view class=\"header\" :style=\"{backgroundColor: primaryColor}\">\n      <text class=\"page-title\">æˆ‘çš„</text>\n      </view>\n    \n    <view class=\"user-card\">\n      \n      <view class=\"user-info-main\">\n        <image \n          :src=\"userInfo.avatar\" \n          class=\"avatar\" \n          mode=\"aspectFill\"\n          @click=\"quickEdit('avatar')\" \n        />\n        <view class=\"text-info\">\n          <text class=\"username\">@{{ userInfo.username }}</text>\n          \n          <view class=\"nickname-box\" @click=\"quickEdit('nickname')\">\n            <text class=\"nickname\">{{ userInfo.nickname }}</text>\n            <text class=\"edit-icon\">âœï¸</text>\n          </view>\n        </view>\n      </view>\n      \n      <view class=\"stats-bar\">\n        <view class=\"stat-item\">\n          <text class=\"stat-number\">{{ userInfo.postCount }}</text>\n          <text class=\"stat-label\">åŠ¨æ€</text>\n        </view>\n        <view class=\"stat-item\">\n          <text class=\"stat-number\">{{ userInfo.commentCount }}</text>\n          <text class=\"stat-label\">è¯„è®º</text>\n        </view>\n        <view class=\"stat-item\" @click=\"goToPage('friendList')\">\n          <text class=\"stat-number\">{{ userInfo.friendCount }}</text>\n          <text class=\"stat-label\">å¥½å‹</text>\n        </view>\n      </view>\n    </view>\n    \n    <view class=\"feature-list\">\n      <view class=\"feature-item\" @click=\"goToPage('userPosts')\">\n        <text class=\"icon\">ğŸ“</text>\n        <text class=\"name\">æˆ‘çš„åŠ¨æ€</text>\n        <text class=\"arrow\">></text>\n      </view>\n      <view class=\"feature-item\" @click=\"goToPage('userComments')\">\n        <text class=\"icon\">ğŸ’¬</text>\n        <text class=\"name\">æˆ‘çš„è¯„è®º</text>\n        <text class=\"arrow\">></text>\n      </view>\n      \n      <view class=\"feature-item\" @click=\"goToPage('settings')\"> \n        <text class=\"icon\">âš™ï¸</text>\n        <text class=\"name\">è®¾ç½®</text>\n        <text class=\"arrow\">></text>\n      </view>\n      \n    </view>\n\n    <uni-popup ref=\"editModal\" type=\"dialog\">\n      <uni-popup-dialog \n        mode=\"input\" \n        :title=\"modalTitle\" \n        :value=\"modalValue\" \n        placeholder=\"è¯·è¾“å…¥æ–°å†…å®¹\"\n        @confirm=\"handleQuickEditConfirm\"\n      ></uni-popup-dialog>\n    </uni-popup>\n    \n  </view>\n</template>\n\n<script>\n// å¯¼å…¥ uni-ui ç»„ä»¶åº“ä¸­çš„ uni-popup-dialogï¼Œç¡®ä¿æ‚¨çš„é¡¹ç›®å·²å®‰è£… uni-ui\n//import { uniPopupDialog } from '@dcloudio/uni-ui'\n\nexport default {\n // components: { uniPopupDialog },\n  data() {\n    return {\n      primaryColor: '#00CC99', \n      accentColor: '#FFD700',\n      tabs: [],\r\n\t  \n      // æ¨¡æ‹Ÿç”¨æˆ·æ•°æ®\n      userInfo: {\n        avatar: '/static/major.jpg', // é»˜è®¤ä½¿ç”¨ä¸Šä¼ çš„ logo å›¾ç‰‡\n        username: 'dank1ng',\n        nickname: 'ç©ºæ‚²åˆ‡',\n        friendCount: 15,\n        postCount: 5,\n        commentCount: 22,\n      },\n      \n      // å¿«æ·ä¿®æ”¹æ¨¡æ€æ¡†çŠ¶æ€\n      editingField: '',\n      modalTitle: '',\n      modalValue: '',\n      \n    };\n  },\n  onShow() {\n    this.fetchUserInfo(); // æ¯æ¬¡è¿›å…¥é¡µé¢åˆ·æ–°æ•°æ®\n  },\n  methods: {\n    // æ¨¡æ‹Ÿè·å–ç”¨æˆ·ä¿¡æ¯\n    fetchUserInfo() {\n      // ** æ¨¡æ‹Ÿæ¥å£è°ƒç”¨ï¼šè·å–ç”¨æˆ·ä¿¡æ¯ **\n      /* uni.request({...}); */\n    },\n    \n    // å¿«æ·ä¿®æ”¹å…¥å£\n    quickEdit(field) {\n      if (field === 'avatar') {\n        // å¿«æ·ä¿®æ”¹å¤´åƒç›´æ¥è·³è½¬åˆ°è¯¦ç»†è®¾ç½®é¡µé¢\n        this.goToPage('profileSettings');\n        return;\n      }\n      \n      this.editingField = field;\n      if (field === 'nickname') {\n        this.modalTitle = 'ä¿®æ”¹æ˜µç§°';\n        this.modalValue = this.userInfo.nickname;\n      }\n      this.$refs.editModal.open();\n    },\n    \n    // å¤„ç†å¿«æ·ä¿®æ”¹ç¡®è®¤\n    handleQuickEditConfirm(value) {\n      if (value.trim() === this.userInfo[this.editingField]) {\n        this.$refs.editModal.close();\n        return;\n      }\n      \n      if (this.editingField === 'nickname') {\n        this.updateProfile({ nickname: value.trim() });\n      }\n      \n      this.$refs.editModal.close();\n    },\n    \n    // å®é™…æ›´æ–°ä¸ªäººèµ„æ–™çš„é€»è¾‘\n    updateProfile(data) {\n      // ** ä¸´æ—¶æˆåŠŸæ¨¡æ‹Ÿ **\n      if (data.nickname) {\n        this.userInfo.nickname = data.nickname;\n        uni.showToast({ title: 'æ˜µç§°ä¿®æ”¹æˆåŠŸ', icon: 'success' });\n      }\n    },\n    \n\tgoBack() {\n\t    uni.navigateBack();\n\t},\n    \n    // è·¯ç”±è·³è½¬é€»è¾‘ (ä¿æŒä¸å˜ï¼Œä»¥è§£å†³è·¯å¾„æ‹¼æ¥é—®é¢˜)\n    goToPage(pageName) {\n        let path = '';\n            \n        // æ ¹æ® pageName æ„é€ è·¯å¾„ (ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„)\n\t\tif (pageName === 'profileSettings') {\n\t\t\tpath = 'profileSettings'; \n\t\t} else if (pageName === 'settings') {\n            path = 'settings';\n        } else if (pageName === 'userPosts') {\n            path = 'userPosts';\n        } else if (pageName === 'userComments') {\n            path = 'userComments';\n        }  else if (pageName === 'friendList') {\n            // å‹æƒ…æç¤ºï¼šfriendList åœ¨ message åˆ†åŒ…ä¸‹\n            path = '/pages/message/friends/friendList'; \n        }\n            \n        if (path) {\n            // æ‹¼æ¥é€»è¾‘ï¼šå¦‚æœæ˜¯ç»å¯¹è·¯å¾„ï¼ˆä»¥ / å¼€å¤´ï¼‰ï¼Œåˆ™ç›´æ¥ä½¿ç”¨ï¼›å¦åˆ™æ‹¼æ¥ Profile åˆ†åŒ…è·¯å¾„\n            uni.navigateTo({\n                url: path.startsWith('/') ? path : `/pages/profile/settings/${path}`\n            });\n        }\r\n\t\tconst targetUrl = path.startsWith('/') ? path : `/pages/profile/settings/${path}`;\r\n\t\tconsole.log('è·³è½¬è·¯å¾„ï¼š', targetUrl); // æ‰“å°è·¯å¾„ç¡®è®¤æ˜¯å¦ä¸º /pages/profile/settings/profileSettings\n    },\n    \n    // åº•éƒ¨å¯¼èˆªåˆ‡æ¢\n    switchTab(path) {\n      uni.switchTab({ url: path });\n    }\n  }\n}\n</script>\n\n<style scoped>\n.container {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: #f0f8f0;\n}\n\n/* --- é¡¶éƒ¨å¯¼èˆªæ  --- */\n.header {\n  height: 90rpx;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: #ffffff;\n  font-weight: bold;\n  padding: 0 30rpx;\n  padding-top: var(--status-bar-height);\n  z-index: 10;\n}\n\n.page-title {\n  font-size: 38rpx;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.setting-btn {\n  font-size: 45rpx;\n}\n\n/* --- ç”¨æˆ·æ ¸å¿ƒä¿¡æ¯å¡ç‰‡ --- */\n.user-card {\n  background-color: #ffffff;\n  padding: 40rpx 30rpx;\n  margin-bottom: 20rpx;\n}\n\n.user-info-main {\n  display: flex;\n  align-items: center;\n  margin-bottom: 30rpx;\n}\n\n.avatar {\n  width: 150rpx;\n  height: 150rpx;\n  border-radius: 50%;\n  margin-right: 30rpx;\n  border: 4rpx solid #eee;\n}\n\n.text-info {\n  display: flex;\n  flex-direction: column;\n}\n\n.username {\n  font-size: 28rpx;\n  color: #999;\n  margin-bottom: 5rpx;\n}\n\n.nickname-box {\n  display: flex;\n  align-items: center;\n}\n\n.nickname {\n  font-size: 44rpx;\n  font-weight: bold;\n  color: #333;\n  margin-right: 15rpx;\n}\n\n.edit-icon {\n  font-size: 30rpx;\n  color: v-bind(primaryColor);\n}\n\n.stats-bar {\n  display: flex;\n  justify-content: space-around;\n  padding-top: 20rpx;\n  border-top: 1rpx solid #eee;\n}\n\n.stat-item {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0 10rpx;\n}\n\n.stat-number {\n  font-size: 38rpx;\n  font-weight: bold;\n  color: v-bind(primaryColor);\n  line-height: 1.2;\n}\n\n.stat-label {\n  font-size: 26rpx;\n  color: #666;\n  margin-top: 5rpx;\n}\n\n/* --- åŠŸèƒ½å…¥å£åˆ—è¡¨ --- */\n.feature-list {\n  background-color: #ffffff;\n  margin-bottom: 20rpx;\n}\n\n.feature-item {\n  display: flex;\n  align-items: center;\n  padding: 25rpx 30rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n}\n\n.feature-item:last-child {\n  border-bottom: none;\n}\n\n.icon {\n  font-size: 40rpx;\n  margin-right: 20rpx;\n  width: 50rpx;\n  text-align: center;\n}\n\n.name {\n  flex: 1;\n  font-size: 32rpx;\n  color: #333;\n}\n\n.arrow {\n  font-size: 30rpx;\n  color: #ccc;\n}\n</style>","import MiniProgramPage from 'C:/Users/HP/Desktop/è½¯ä»¶å·¥ç¨‹/demo1/DemonTest/pages/profile/profile.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AA+EA,MAAK,YAAU;AAAA;AAAA,EAEb,OAAO;AACL,WAAO;AAAA,MACL,cAAc;AAAA,MACd,aAAa;AAAA,MACb,MAAM,CAAE;AAAA;AAAA,MAGR,UAAU;AAAA,QACR,QAAQ;AAAA;AAAA,QACR,UAAU;AAAA,QACV,UAAU;AAAA,QACV,aAAa;AAAA,QACb,WAAW;AAAA,QACX,cAAc;AAAA,MACf;AAAA;AAAA,MAGD,cAAc;AAAA,MACd,YAAY;AAAA,MACZ,YAAY;AAAA;EAGf;AAAA,EACD,SAAS;AACP,SAAK,cAAa;AAAA,EACnB;AAAA,EACD,SAAS;AAAA;AAAA,IAEP,gBAAgB;AAAA,IAGf;AAAA;AAAA,IAGD,UAAU,OAAO;AACf,UAAI,UAAU,UAAU;AAEtB,aAAK,SAAS,iBAAiB;AAC/B;AAAA,MACF;AAEA,WAAK,eAAe;AACpB,UAAI,UAAU,YAAY;AACxB,aAAK,aAAa;AAClB,aAAK,aAAa,KAAK,SAAS;AAAA,MAClC;AACA,WAAK,MAAM,UAAU;IACtB;AAAA;AAAA,IAGD,uBAAuB,OAAO;AAC5B,UAAI,MAAM,WAAW,KAAK,SAAS,KAAK,YAAY,GAAG;AACrD,aAAK,MAAM,UAAU;AACrB;AAAA,MACF;AAEA,UAAI,KAAK,iBAAiB,YAAY;AACpC,aAAK,cAAc,EAAE,UAAU,MAAM,KAAK,EAAA,CAAG;AAAA,MAC/C;AAEA,WAAK,MAAM,UAAU;IACtB;AAAA;AAAA,IAGD,cAAc,MAAM;AAElB,UAAI,KAAK,UAAU;AACjB,aAAK,SAAS,WAAW,KAAK;AAC9BA,sBAAG,MAAC,UAAU,EAAE,OAAO,UAAU,MAAM,UAAQ,CAAG;AAAA,MACpD;AAAA,IACD;AAAA,IAEJ,SAAS;AACLA,oBAAG,MAAC,aAAY;AAAA,IACnB;AAAA;AAAA,IAGE,SAAS,UAAU;AACf,UAAI,OAAO;AAGjB,UAAI,aAAa,mBAAmB;AACnC,eAAO;AAAA,MACR,WAAW,aAAa,YAAY;AAC1B,eAAO;AAAA,MACX,WAAW,aAAa,aAAa;AACjC,eAAO;AAAA,MACX,WAAW,aAAa,gBAAgB;AACpC,eAAO;AAAA,MACX,WAAY,aAAa,cAAc;AAEnC,eAAO;AAAA,MACX;AAEA,UAAI,MAAM;AAENA,sBAAAA,MAAI,WAAW;AAAA,UACX,KAAK,KAAK,WAAW,GAAG,IAAI,OAAO,2BAA2B,IAAI;AAAA,QACtE,CAAC;AAAA,MACL;AACN,YAAM,YAAY,KAAK,WAAW,GAAG,IAAI,OAAO,2BAA2B,IAAI;AAC/EA,oBAAA,MAAA,MAAA,OAAA,oCAAY,SAAS,SAAS;AAAA,IAC3B;AAAA;AAAA,IAGD,UAAU,MAAM;AACdA,oBAAAA,MAAI,UAAU,EAAE,KAAK,KAAM,CAAA;AAAA,IAC7B;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7LA,GAAG,WAAW,eAAe;"}