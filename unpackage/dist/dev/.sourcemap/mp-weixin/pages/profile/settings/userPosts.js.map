{"version":3,"file":"userPosts.js","sources":["pages/profile/settings/userPosts.vue","D:/HTML5/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXNccHJvZmlsZVxzZXR0aW5nc1x1c2VyUG9zdHMudnVl"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <view class=\"header\" :style=\"{backgroundColor: primaryColor}\">\n      <back-icon icon-size=\"50\" @click=\"goBack\" class=\"back-icon\"></back-icon>\n      <text class=\"page-title\">ÊàëÁöÑÂä®ÊÄÅ</text>\n    </view>\n\n    <view class=\"filter-bar\">\n      <input \n        class=\"search-input\" \n        placeholder=\"ÊêúÁ¥¢Ê†áÈ¢òÊàñÊ†áÁ≠æ\" \n        v-model=\"searchKeyword\"\n        @confirm=\"fetchUserPosts\"\n      />\n      \n      <view class=\"picker-container\">\n        <uni-datetime-picker\n          type=\"daterange\"\n          v-model=\"rangeValues\"\n          @change=\"onDateChange\"\n          :border=\"false\"\n          :clear-icon=\"false\"\n          class=\"custom-picker\"\n        >\n          <view class=\"date-picker-box\">\n            <text class=\"date-text\">{{ dateRangeText }}</text>\n            <text class=\"date-icon\">üìÖ</text>\n          </view>\n        </uni-datetime-picker>\n      </view>\n\n      <button class=\"search-btn\" :style=\"{backgroundColor: primaryColor}\" @click=\"fetchUserPosts\">Ê£ÄÁ¥¢</button>\n    </view>\n    \n    <scroll-view scroll-y class=\"post-list\">\n      <view v-if=\"posts.length === 0\" class=\"no-post\">\n        <text>ÊöÇÊó†Âä®ÊÄÅÂÜÖÂÆπ</text>\n      </view>\n  \n      <view v-for=\"post in posts\" :key=\"post.id\" class=\"post-item\">\n        <view class=\"post-info-box\" @click=\"goToDetail(post.id)\">\n          \n          <view class=\"post-header\">\n            <text class=\"post-title\">{{ post.title }}</text>\n            <text class=\"post-rating\">‚òÖ {{ post.rating.toFixed(1) }}</text>\n          </view>\n                  \n          <view class=\"post-footer\">\n            \n            <view class=\"tags-box\">\n              <view v-for=\"(tag, index) in post.tags\" :key=\"index\" class=\"tag-item\">\n                {{ tag }}\n              </view>\n            </view>\n\n            <view class=\"footer-right\">\n              <view class=\"post-actions\">\n                <text class=\"action-btn\" @click.stop=\"goToDetail(post.id)\">Êü•ÁúãÂéüÂ∏ñ</text> \n                <text class=\"action-btn delete-btn\" @click.stop=\"confirmDelete(post)\">Âà†Èô§</text>\n              </view>\n              \n              <text v-if=\"post.images.length > 0\" class=\"post-date\">{{ post.date }}</text>\n              <text v-else class=\"post-date-full\">{{ post.date }}</text>\n            </view>\n\n          </view>\n        </view>\n      </view>   \n    </scroll-view>  \n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      primaryColor: '#00CC99',\n      searchKeyword: '',\n      \n      // Êó•ÊúüÁõ∏ÂÖ≥Êï∞ÊçÆ\n      rangeValues: [], // ÁªëÂÆöÁªô picker ÁöÑÊï∞ÁªÑÔºå‰æãÂ¶Ç ['2023-01-01', '2023-01-02']\n      startDate: null, // ÂèëÈÄÅÁªôÂêéÁ´ØÁöÑÂºÄÂßãÊó•Êúü\n      endDate: null,   // ÂèëÈÄÅÁªôÂêéÁ´ØÁöÑÁªìÊùüÊó•Êúü\n      \n      // Ê®°ÊãüÁî®Êà∑Âä®ÊÄÅÊï∞ÊçÆ\n      posts: [\n        { id: 1, title: 'Êò•Â§©ÁßçÁöÑÊ§çÁâ©ÂèëËäΩ‰∫Ü', rating: 4.8, date: '2025-12-09', images: ['/static/img1.jpg'], tags: ['Ê§çÁâ©', 'ÁîüÊ¥ª', 'ËÆ∞ÂΩï'] },\n        { id: 3, title: 'Á©∫ÊÇ≤Âàá', rating: 3.9, date: '2023-04-09', images: [''], tags: ['ÂøÉÊÉÖ', 'ÈöèÁ¨î'] },\n      ]\n    };\n  },\n  computed: {\n    // Âä®ÊÄÅÊòæÁ§∫ÈÄâÊã©ÁöÑÊó•ÊúüËåÉÂõ¥ÊñáÂ≠ó\n    dateRangeText() {\n      // Ê£ÄÊü• rangeValues ÊòØÂê¶ÊúâÂÄº\n      if (this.rangeValues && this.rangeValues.length === 2) {\n        return `${this.rangeValues[0]} Ëá≥ ${this.rangeValues[1]}`;\n      }\n      return 'ÈÄâÊã©Êó•ÊúüËåÉÂõ¥';\n    }\n  },\n  onLoad() {\n    this.fetchUserPosts();\n  },\n  methods: {\n    goBack() {\n      uni.navigateBack();\n    },\n    \n    // Êó•ÊúüÈÄâÊã©Âô®ÂõûË∞É\n    onDateChange(e) {\n      console.log('ÈÄâÊã©ÁöÑÊó•Êúü:', e);\n      // e ÊòØ‰∏Ä‰∏™Êï∞ÁªÑ ['YYYY-MM-DD', 'YYYY-MM-DD']\n      if (e && e.length > 0) {\n        this.rangeValues = e; // Á°Æ‰øùËßÜÂõæÂêåÊ≠•\n        this.startDate = e[0];\n        this.endDate = e[1];\n      } else {\n        // Áî®Êà∑Ê∏ÖÁ©∫‰∫ÜÊó•Êúü (Â¶ÇÊûúÂºÄÂêØ‰∫Ü clear-icon)\n        this.rangeValues = [];\n        this.startDate = null;\n        this.endDate = null;\n      }\n      // ÂèØÈÄâÔºöÈÄâÊã©ÂÆåÊó•ÊúüÂêéËá™Âä®Ëß¶ÂèëÊ£ÄÁ¥¢\n      // this.fetchUserPosts(); \n    },\n    \n    // Ëé∑ÂèñÁî®Êà∑Â∏ñÂ≠êÂàóË°®\n    fetchUserPosts() {\n      console.log('Ê£ÄÁ¥¢Êù°‰ª∂:', {\n        keyword: this.searchKeyword,\n        start: this.startDate,\n        end: this.endDate\n      });\n\n      uni.showToast({ title: 'Ê£ÄÁ¥¢‰∏≠...', icon: 'none' });\n\n      // ** Ê®°ÊãüÊé•Âè£Á≠õÈÄâÈÄªËæë (‰ªÖ‰æõÊºîÁ§∫) **\n      // ÂÆûÈôÖÂºÄÂèë‰∏≠ËØ∑Âà†Èô§‰∏ãÊñπÈÄªËæëÔºåÁõ¥Êé•‰ΩøÁî® uni.request\n      /*\n      uni.request({\n         url: '/api/user/posts',\n         data: {\n             keyword: this.searchKeyword,\n             startDate: this.startDate,\n             endDate: this.endDate\n         },\n         success: (res) => { ... }\n      });\n      */\n    },\n    \n    goToDetail(postId) {\n      uni.navigateTo({\n        url: `/pages/home/postDetail?id=${postId}&edit=true`\n      });\n    },\n    \n    confirmDelete(post) {\n      uni.showModal({\n        title: 'Âà†Èô§Á°ÆËÆ§',\n        content: `‰Ω†Á°ÆÂÆöË¶ÅÂà†Èô§Â∏ñÂ≠ê„Ää${post.title}„ÄãÂêóÔºü`,\n        confirmText: 'Á°ÆËÆ§Âà†Èô§',\n        confirmColor: '#FF3B30',\n        success: (res) => {\n          if (res.confirm) {\n            this.deletePost(post);\n          }\n        }\n      });\n    },\n    \n    deletePost(post) {\n      uni.showToast({ title: 'Âà†Èô§ÊàêÂäü', icon: 'success' });\n      this.posts = this.posts.filter(p => p.id !== post.id);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.container {\n  height: 100vh;\n  background-color: #f7fff7;\n}\n\n/* --- È°∂ÈÉ®ÂØºËà™Ê†è --- */\n.header {\n  height: 120rpx;\r\n  line-height: 120rpx;\n  display: flex;\n  align-items: center;\r\n  justify-content: center;\n  position: relative;\n  color: #ffffff;\n  font-weight: bold;\n  padding-top: var(--status-bar-height);\n  background-color: v-bind(primaryColor);\n}\n\n.back-icon {\n  position: absolute;\n  left: 30rpx;\r\n  top: 55rpx;\n  font-size: 40rpx;\n  cursor: pointer;\n}\n\n.page-title {\n  font-size: 38rpx;\r\n  font-weight: bold;\n}\n\n/* --- ÊêúÁ¥¢ÂíåÁ≠õÈÄâÂå∫ --- */\n.filter-bar {\n  padding: 20rpx 30rpx;\n  background-color: #ffffff;\n  display: flex;\n  align-items: center;\n  border-bottom: 1rpx solid #eee;\n}\n\n.search-input {\n  flex: 2;\n  height: 70rpx;\n  background-color: #f7f7f7;\n  border-radius: 35rpx;\n  padding: 0 30rpx;\n  font-size: 30rpx;\n  margin-right: 20rpx;\n}\n\n/* === ‰øÆÊîπÔºöPicker ÂÆπÂô®Ê†∑Âºè === */\n.picker-container {\n  flex: 1.8; \n  margin-right: 20rpx;\n  position: relative; \n}\n\n/* ËÆ© uni-datetime-picker Â°´Êª°ÂÆπÂô® */\n.custom-picker {\n    width: 100%;\n}\n\n.date-picker-box {\n  width: 100%; \n  height: 70rpx;\n  line-height: 70rpx;\n  background-color: #f7f7f7;\n  border-radius: 35rpx;\n  padding: 0 20rpx;\n  font-size: 24rpx; \n  color: #666;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  /* Á°Æ‰øùÊñáÂ≠ó‰∏çÊç¢Ë°å */\n  white-space: nowrap;\n  overflow: hidden;\n}\n\n.date-text {\n    flex: 1;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.search-btn {\n  flex: 1;\n  height: 70rpx;\n  line-height: 70rpx;\n  font-size: 30rpx;\n  color: #fff;\n  padding: 0;\n  border-radius: 35rpx;\n}\n\n/* --- Âä®ÊÄÅÂàóË°®Âå∫ --- */\n.post-list {\n    flex: 1;\n    padding: 20rpx 30rpx 20rpx 7rpx; \n}\n\n.no-post {\n  text-align: center;\n  padding: 50rpx;\n  color: #999;\n}\n\n.post-item {\n    display: block; \n    padding: 20rpx; \n    border-bottom: 1rpx solid #eee;\n    background-color: #fff;\n    margin-bottom: 15rpx;\n    border-radius: 10rpx;\n}\n\n.post-info-box {\n    padding: 0;\n}\n\n.post-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 15rpx; \n}\n\n.post-title {\n    font-size: 32rpx;\n    font-weight: bold;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    flex: 1;\n    margin-right: 15rpx;\n}\n\n.post-rating {\n    font-size: 28rpx;\n    color: #FF9900;\n    font-weight: bold;\n}\n\n/* --- Â∫ïÈÉ®Â∏ÉÂ±Ä --- */\n.post-footer {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end; \n    margin-top: 10rpx;\n}\n\n/* Â∑¶‰æßÔºöÊ†áÁ≠æÂå∫Âüü */\n.tags-box {\n    display: flex;\n    flex-wrap: wrap;\n    flex: 1; \n    margin-right: 20rpx;\n}\n\n.tag-item {\n    font-size: 20rpx;\n    color: #00CC99; \n    background-color: #e6f9f2; \n    padding: 4rpx 12rpx;\n    border-radius: 8rpx;\n    margin-right: 10rpx;\n    margin-bottom: 5rpx; \n}\n\n/* Âè≥‰æßÔºöÊìç‰ΩúÂíåÊó•Êúü */\n.footer-right {\n    display: flex;\n    flex-direction: column; \n    align-items: flex-end; \n    flex-shrink: 0; \n}\n\n.post-actions {\n    display: flex;\n    justify-content: flex-end;\n    margin-bottom: 10rpx;\n}\n\n.action-btn {\n    font-size: 24rpx; \n    color: #666;\n    padding: 4rpx 16rpx;\n    border: 1rpx solid #ccc;\n    border-radius: 20rpx;\n    margin-left: 15rpx;\n}\n\n.delete-btn {\n    color: #FF3B30;\n    border-color: #FF3B30;\n}\n\n.post-date, .post-date-full {\n    font-size: 22rpx;\n    color: #999;\n}\n</style>","import MiniProgramPage from 'C:/Users/HP/Desktop/ËΩØ‰ª∂Â∑•Á®ã/demo1/DemonTest/pages/profile/settings/userPosts.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAyEA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,cAAc;AAAA,MACd,eAAe;AAAA;AAAA,MAGf,aAAa,CAAE;AAAA;AAAA,MACf,WAAW;AAAA;AAAA,MACX,SAAS;AAAA;AAAA;AAAA,MAGT,OAAO;AAAA,QACL,EAAE,IAAI,GAAG,OAAO,aAAa,QAAQ,KAAK,MAAM,cAAc,QAAQ,CAAC,kBAAkB,GAAG,MAAM,CAAC,MAAM,MAAM,IAAI,EAAG;AAAA,QACtH,EAAE,IAAI,GAAG,OAAO,OAAO,QAAQ,KAAK,MAAM,cAAc,QAAQ,CAAC,EAAE,GAAG,MAAM,CAAC,MAAM,IAAI,EAAG;AAAA,MAC5F;AAAA;EAEH;AAAA,EACD,UAAU;AAAA;AAAA,IAER,gBAAgB;AAEd,UAAI,KAAK,eAAe,KAAK,YAAY,WAAW,GAAG;AACrD,eAAO,GAAG,KAAK,YAAY,CAAC,CAAC,MAAM,KAAK,YAAY,CAAC,CAAC;AAAA,MACxD;AACA,aAAO;AAAA,IACT;AAAA,EACD;AAAA,EACD,SAAS;AACP,SAAK,eAAc;AAAA,EACpB;AAAA,EACD,SAAS;AAAA,IACP,SAAS;AACPA,oBAAG,MAAC,aAAY;AAAA,IACjB;AAAA;AAAA,IAGD,aAAa,GAAG;AACdA,oBAAA,MAAA,MAAA,OAAA,+CAAY,UAAU,CAAC;AAEvB,UAAI,KAAK,EAAE,SAAS,GAAG;AACrB,aAAK,cAAc;AACnB,aAAK,YAAY,EAAE,CAAC;AACpB,aAAK,UAAU,EAAE,CAAC;AAAA,aACb;AAEL,aAAK,cAAc;AACnB,aAAK,YAAY;AACjB,aAAK,UAAU;AAAA,MACjB;AAAA,IAGD;AAAA;AAAA,IAGD,iBAAiB;AACfA,oBAAAA,MAAY,MAAA,OAAA,+CAAA,SAAS;AAAA,QACnB,SAAS,KAAK;AAAA,QACd,OAAO,KAAK;AAAA,QACZ,KAAK,KAAK;AAAA,MACZ,CAAC;AAEDA,oBAAG,MAAC,UAAU,EAAE,OAAO,UAAU,MAAM,OAAK,CAAG;AAAA,IAehD;AAAA,IAED,WAAW,QAAQ;AACjBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,6BAA6B,MAAM;AAAA,MAC1C,CAAC;AAAA,IACF;AAAA,IAED,cAAc,MAAM;AAClBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS,YAAY,KAAK,KAAK;AAAA,QAC/B,aAAa;AAAA,QACb,cAAc;AAAA,QACd,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,SAAS;AACf,iBAAK,WAAW,IAAI;AAAA,UACtB;AAAA,QACF;AAAA,MACF,CAAC;AAAA,IACF;AAAA,IAED,WAAW,MAAM;AACfA,oBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,UAAQ,CAAG;AAChD,WAAK,QAAQ,KAAK,MAAM,OAAO,OAAK,EAAE,OAAO,KAAK,EAAE;AAAA,IACtD;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChLA,GAAG,WAAW,eAAe;"}