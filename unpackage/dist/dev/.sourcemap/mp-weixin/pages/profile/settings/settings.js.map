{"version":3,"file":"settings.js","sources":["pages/profile/settings/settings.vue","D:/HTML5/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXNccHJvZmlsZVxzZXR0aW5nc1xzZXR0aW5ncy52dWU"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <view class=\"header\" :style=\"{ backgroundColor: primaryColor }\">\n      <back-icon iconSize=\"50\" @click=\"goBack\" class=\"back-icon\"></back-icon>\n      <text class=\"page-title\">设置</text>\n    </view>\n\n    <view class=\"settings-list\">\n      <view class=\"setting-item\" @click=\"goToPage('profileSettings')\">\n        <text class=\"name\">设置个人资料</text>\n      </view>\n\n      <view class=\"setting-item danger\" @click=\"handleLogout\">\n        <text class=\"name\">注销账号</text>\n      </view>\n\n      <view class=\"setting-item\" @click=\"handleSwitchAccount\">\n        <text class=\"name\">切换账号</text>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      primaryColor: \"#00CC99\",\n    };\n  },\n  methods: {\n    goBack() {\n      uni.navigateBack();\n    },\n    goToPage(pageName) {\n      // 如果传入的是绝对路径（以 / 开头），直接使用；\r\n\t  // 否则拼接到分包根目录 `pages/profile/settings` 下，避免重复或错误的路径。\r\n\t  const url = pageName.startsWith(\"/\")\r\n\t  ? pageName\r\n\t  : `/pages/profile/settings/${pageName}`;\r\n\t  uni.navigateTo({ url });\n    },\n\n    // 注销账号逻辑\n    handleLogout() {\n      uni.showModal({\n        title: \"警告\",\n        content: \"注销账号将清除您的本地数据，确定要继续吗？\",\n        confirmText: \"确定注销\",\n        confirmColor: \"#FF3B30\",\n        success: (res) => {\n          if (res.confirm) {\n            // ** 模拟接口调用：执行注销 **\n            // 接口：/api/user/logout\n            /*\n            uni.request({ url: '/api/user/logout', success: () => {\n              // 清除本地存储\n              uni.clearStorageSync();\n              uni.reLaunch({ url: 'pages/login' }); // 跳转到登录页\n            }});\n            */\n            uni.showToast({ title: \"注销成功\", icon: \"success\" });\n            // 实际操作应该是跳转到登录页，这里我们简单返回我的页面\n            this.goBack();\n          }\n        },\n      });\n    },\n\n    // 切换账号逻辑\n    handleSwitchAccount() {\n      uni.showModal({\n        title: \"切换账号\",\n        content: \"确定要切换账号吗？您将被导向登录页。\",\n        success: (res) => {\n          if (res.confirm) {\n            // 假设：跳转到登录页，并允许用户重新登录\n            uni.showToast({ title: \"准备切换\", icon: \"none\" });\n            // uni.reLaunch({ url: 'pages/login' });\n            this.goBack();\n          }\n        },\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  height: 100vh;\n  background-color: #f7fff7;\n}\n\n/* --- 顶部导航栏 (与 friendList 样式保持一致) --- */\n.header {\n  height: 90rpx;\n  display: flex;\n  align-items: center;\n  position: relative;\n  color: #ffffff;\n  font-weight: bold;\n  padding-top: var(--status-bar-height);\n  background-color: v-bind(primaryColor);\n}\n\n.back-icon {\n  position: absolute;\n  left: 30rpx;\n  font-size: 40rpx;\n  cursor: pointer;\n}\n\n.page-title {\n  flex: 1;\n  text-align: center;\n  font-size: 38rpx;\n  margin-right: 60rpx;\n}\n\n/* --- 设置列表 --- */\n.settings-list {\n  background-color: #ffffff;\n  margin-top: 20rpx;\n}\n\n.setting-item {\n  display: flex;\n  align-items: center;\n  padding: 25rpx 30rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n}\n\n.setting-item:last-child {\n  border-bottom: none;\n}\n\n.name {\n  flex: 1;\n  font-size: 32rpx;\n  color: #333;\n}\n\n.arrow {\n  font-size: 30rpx;\n  color: #ccc;\n}\n\n.setting-item.danger .name {\n  color: #ff3b30; /* 危险操作使用红色 */\n}\n</style>\n","import MiniProgramPage from 'C:/Users/HP/Desktop/软件工程/demo1/DemonTest/pages/profile/settings/settings.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAwBA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,cAAc;AAAA;EAEjB;AAAA,EACD,SAAS;AAAA,IACP,SAAS;AACPA,oBAAG,MAAC,aAAY;AAAA,IACjB;AAAA,IACD,SAAS,UAAU;AAGpB,YAAM,MAAM,SAAS,WAAW,GAAG,IACjC,WACA,2BAA2B,QAAQ;AACrCA,oBAAAA,MAAI,WAAW,EAAE,IAAE,CAAG;AAAA,IACpB;AAAA;AAAA,IAGD,eAAe;AACbA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,aAAa;AAAA,QACb,cAAc;AAAA,QACd,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,SAAS;AAUfA,0BAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,UAAQ,CAAG;AAEhD,iBAAK,OAAM;AAAA,UACb;AAAA,QACD;AAAA,MACH,CAAC;AAAA,IACF;AAAA;AAAA,IAGD,sBAAsB;AACpBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,SAAS;AAEfA,0BAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,OAAK,CAAG;AAE7C,iBAAK,OAAM;AAAA,UACb;AAAA,QACD;AAAA,MACH,CAAC;AAAA,IACF;AAAA,EACF;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpFA,GAAG,WAAW,eAAe;"}